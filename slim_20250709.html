<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>eXmate slim | AdminLTE v3 (ìµœì¢… ê°œì„ ì•ˆ)</title>

  <!-- Pretendard Font -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard/dist/web/static/pretendard.css">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <!-- AdminLTE css -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/admin-lte/3.2.0/css/adminlte.min.css">
  <style>
    /* Pretendard í°íŠ¸ ì ìš© ë° UI ê°œì„ ì„ ìœ„í•œ ì»¤ìŠ¤í…€ ìŠ¤íƒ€ì¼ */
    body { font-family: 'Pretendard', sans-serif; }
    
    .content-wrapper { background-color: #f4f6f9; }
    .card { box-shadow: 0 0 1px rgba(0,0,0,.125),0 1px 3px rgba(0,0,0,.2); border: 0; }
    
    /* ë†’ì´ ë° ìŠ¤í¬ë¡¤ ì œì–´ */
    html, body, .wrapper { height: 100%; }
    .content-wrapper { display: flex; flex-direction: column; height: 100%; }
    section.content { flex-grow: 1; display: flex; flex-direction: column; }
    section.content > .container-fluid { display: flex; flex-direction: column; flex-grow: 1; }
    
    /* ì¼ê´€ëœ ì˜ì—­ ê°„ ê°„ê²© */
    .row + .row { margin-top: 1rem !important; }

    /* íƒ€ì´í‹€ í°íŠ¸ ì‚¬ì´ì¦ˆ ì¡°ì • */
    .card-title-lg {
        font-weight: 700;
        font-size: 1.2rem;
    }
    .sub-title {
        font-size: 0.95rem;
        font-weight: 600;
    }

    /* ê³µì§€ í°íŠ¸ ì‚¬ì´ì¦ˆ ì¡°ì • */
    .nav-pills .nav-link {
        font-size: 0.9rem;
    }

    /* ìš”ì•½ ì •ë³´ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
    .summary-box {
        display: flex;
        flex-direction: column;
        justify-content: center;
        padding: 1.25rem;
        background-color: #f8f9fa;
        border-radius: .25rem;
        height: 100%;
    }
    .summary-box .summary-box-label {
        color: #6c757d;
        font-weight: 600;
        margin-bottom: 0.5rem;
    }
    .summary-box .summary-box-value {
        font-size: 2rem;
        font-weight: 700;
        line-height: 1.2;
        text-align: right;
    }
    .summary-box .summary-box-value .unit {
        font-size: 1rem;
        margin-left: 4px;
        font-weight: 500;
    }
    .value-primary { color: #007bff; }
    .value-danger { color: #dc3545; }
    .value-warning { color: #ffc107; }

    /* ë°”ë¡œê°€ê¸° ë²„íŠ¼ ìŠ¤íƒ€ì¼ (ë†’ì´ ì¦ê°€) */
    .quick-link-item {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        padding: 1rem 0.25rem; /* ë†’ì´ ë° íŒ¨ë”© ì¡°ì • */
        border: 1px solid #e3e6e9;
        border-radius: .25rem;
        color: #495057;
        font-size: 0.875rem;
        font-weight: 600;
        height: 100%;
        text-align: center;
    }
    .quick-link-item:hover {
        background-color: #f8f9fa;
        color: #007bff;
        text-decoration: none;
    }
    .quick-link-item i {
        font-size: 1.5rem; /* ì•„ì´ì½˜ í¬ê¸° ì¡°ì • */
        margin-bottom: 0.5rem;
    }

    /* í”„ë¡œëª¨ì…˜ ìºëŸ¬ì…€ ìŠ¤íƒ€ì¼ (4:3 ë¹„ìœ¨) */
    .promo-carousel-wrapper {
        position: relative;
        width: 100%;
        padding-top: 75%; /* 4:3 Aspect Ratio */
    }
    #promoCarousel {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    #promoCarousel .carousel-inner, #promoCarousel .carousel-item, #promoCarousel .promo-carousel-item-img {
        height: 100%;
    }
    .promo-carousel-item-img {
        object-fit: cover;
        border-radius: .25rem;
    }
    
    /* í…ìŠ¤íŠ¸ ë§í¬ ìŠ¤íƒ€ì¼ */
    .text-link {
        color: #007bff;
        font-weight: 600;
        text-decoration: none;
    }
    .text-link:hover {
        color: #0056b3;
        text-decoration: underline;
    }

    .modal-body .form-control { font-family: 'Courier New', Courier, monospace; }
  </style>
</head>
<body class="hold-transition sidebar-mini layout-fixed">
<div class="wrapper">

  <!-- Navbar -->
  <nav class="main-header navbar navbar-expand navbar-white navbar-light">
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link" data-widget="pushmenu" href="#" role="button"><i class="fas fa-bars"></i></a>
      </li>
      <li class="nav-item search-box-item">
        <form class="form-inline ml-3">
          <div class="input-group input-group-sm">
            <input class="form-control form-control-navbar" type="search" 
                   placeholder="ë³µìˆ˜í™”ë¬¼ ì¡°íšŒ" aria-label="ë³µìˆ˜í™”ë¬¼ ì¡°íšŒ"
                   style="width: 200px;" id="multiTrackSearchInput">
          </div>
        </form>
      </li>
    </ul>
    <ul class="navbar-nav ml-auto">
      <!-- ì–¸ì–´ì„ íƒ ë“œë¡­ë‹¤ìš´ -->
      <li class="nav-item dropdown">
        <a class="nav-link dropdown-toggle" href="#" id="languageDropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fas fa-globe"></i>
          <span id="current-language" class="d-none d-md-inline ml-1">í•œêµ­ì–´</span>
        </a>
        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="languageDropdown">
          <a class="dropdown-item language-item" href="#" onclick="changeLanguage('ko')">
            <div class="language-item-content">
              <span class="flag-emoji">ğŸ‡°ğŸ‡·</span>
              <span class="language-text">í•œêµ­ì–´</span>
              <i class="fas fa-check text-success language-check" id="check-ko"></i>
            </div>
          </a>
          <a class="dropdown-item language-item" href="#" onclick="changeLanguage('ja')">
            <div class="language-item-content">
              <span class="flag-emoji">ğŸ‡¯ğŸ‡µ</span>
              <span class="language-text">æ—¥æœ¬èª</span>
              <i class="fas fa-check text-success language-check d-none" id="check-ja"></i>
            </div>
          </a>
          <a class="dropdown-item language-item" href="#" onclick="changeLanguage('en')">
            <div class="language-item-content">
              <span class="flag-emoji">ğŸ‡ºğŸ‡¸</span>
              <span class="language-text">English</span>
              <i class="fas fa-check text-success language-check d-none" id="check-en"></i>
            </div>
          </a>
        </div>
      </li>

      <li class="nav-item dropdown">
        <a class="nav-link" data-toggle="dropdown" href="#">
          <i class="far fa-bell"></i>
          <span class="badge badge-warning navbar-badge">15</span>
        </a>
      </li>
      <li class="nav-item">
        <a class="nav-link" data-widget="fullscreen" href="#" role="button">
          <i class="fas fa-expand-arrows-alt"></i>
        </a>
      </li>
               <li class="nav-item dropdown user-menu">
          <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">
            <img src="https://placehold.co/184x184/007bff/ffffff?text=T" class="user-image img-circle elevation-2" alt="User Image">
          </a>
          <ul class="dropdown-menu dropdown-menu-lg dropdown-menu-right">
            <li class="user-header bg-primary">
              <img src="https://placehold.co/184x184/007bff/ffffff?text=T" class="img-circle elevation-2" alt="User Image">
              <p>í‹°í•<small>Member since Jan. 2025</small></p>
            </li>
            <li class="user-footer">
              <a href="#" class="btn btn-default btn-flat">í”„ë¡œí•„</a>
              <a href="#" class="btn btn-default btn-flat float-right">ë¡œê·¸ì•„ì›ƒ</a>
            </li>
          </ul>
        </li>
    </ul>
  </nav>
  <!-- /.navbar -->

  <!-- Main Sidebar Container -->
  <aside class="main-sidebar sidebar-dark-primary elevation-4">
    <a href="#" class="brand-link">
      <i class="fa-solid fa-cubes-stacked fa-lg brand-image img-circle elevation-3" style="opacity: .8"></i>
      <span class="brand-text font-weight-light">eXmate slim</span>
    </a>
    <div class="sidebar">
      <nav class="mt-2">
        <ul id="lnb-menu" class="nav nav-pills nav-sidebar flex-column" data-widget="treeview" role="menu" data-accordion="false">
          <li class="nav-item"><a href="#" class="nav-link active"><i class="nav-icon fas fa-home"></i><p>í™ˆ</p></a></li>
                      <li class="nav-item"><a href="#" class="nav-link"><i class="nav-icon fas fa-bell"></i><p>ê³µì§€</p></a></li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-box-open"></i><p>ì…ê³  ê´€ë¦¬<i class="right fas fa-angle-left"></i></p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item"><a href="#" class="nav-link"><i class="far fa-circle nav-icon"></i><p>ì…ê³  ë‚´ì—­</p></a></li>
              <li class="nav-item"><a href="#" class="nav-link"><i class="far fa-circle nav-icon"></i><p>ì…ê³  ë“±ë¡</p></a></li>
            </ul>
          </li>
          <li class="nav-item">
            <a href="#" class="nav-link">
              <i class="nav-icon fas fa-paper-plane"></i><p>ì¶œê³  ê´€ë¦¬<i class="right fas fa-angle-left"></i></p>
            </a>
            <ul class="nav nav-treeview">
              <li class="nav-item"><a href="#" class="nav-link"><i class="far fa-circle nav-icon"></i><p>ì¶œê³  ë‚´ì—­</p></a></li>
              <li class="nav-item"><a href="#" class="nav-link"><i class="far fa-circle nav-icon"></i><p>ì¶œê³  ë“±ë¡</p></a></li>
            </ul>
          </li>
          <li class="nav-item"><a href="#" class="nav-link"><i class="nav-icon fas fa-chart-bar"></i><p>í†µê³„</p></a></li>
          <li class="nav-item"><a href="#" class="nav-link"><i class="nav-icon fas fa-cog"></i><p>ì„¤ì •</p></a></li>
        </ul>
      </nav>
    </div>
  </aside>

  <!-- Content Wrapper. Contains page content -->
  <div class="content-wrapper">
    <section class="content p-3">
      <div class="container-fluid">
        <!-- Top Row -->
        <div class="row d-flex align-items-stretch">
          <div class="col-lg-9 d-flex align-items-stretch">
            <div class="card w-100">
              <div class="card-header"><h3 class="card-title card-title-lg">ì „ì²´ ì§€ì—° í˜„í™© ìš”ì•½</h3></div>
              <div class="card-body d-flex align-items-center p-3">
                <div class="row w-100">
                  <div class="col-md-4"><div class="summary-box"><div class="summary-box-label">ì „ì²´ ì²˜ë¦¬ì§€ì—°</div><div class="summary-box-value value-primary">38<span class="unit">ê±´</span></div></div></div>
                  <div class="col-md-4"><div class="summary-box"><div class="summary-box-label">ìµœì¥ê¸° ì§€ì—° (15+ì¼)</div><div class="summary-box-value value-danger">5<span class="unit">ê±´</span></div></div></div>
                  <div class="col-md-4"><div class="summary-box"><div class="summary-box-label">ìµœë‹¤ ì§€ì—° ì‚¬ìœ : ë¯¸ë°°ì†¡</div><div class="summary-box-value value-warning">12<span class="unit">ê±´</span></div></div></div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-lg-3 d-flex align-items-stretch">
             <div class="card w-100 d-flex flex-column">
              <div class="card-header d-flex justify-content-between align-items-center">
                  <h3 class="card-title card-title-lg mb-0">ê³µì§€</h3>
                  <a href="#" class="text-link">ë”ë³´ê¸°+</a>
              </div>
              <div class="card-body p-0 pb-2">
                <ul class="nav nav-pills flex-column">
                  <li class="nav-item"><a href="#" class="nav-link">[ì•ˆë‚´] ì‹œìŠ¤í…œ ì •ê¸°ì ê²€<span class="float-right text-muted">06-15</span></a></li>
                  <li class="nav-item"><a href="#" class="nav-link">[ì¤‘ìš”] ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨ ê°œì •<span class="float-right text-muted">06-12</span></a></li>
                  <li class="nav-item"><a href="#" class="nav-link">[ì—…ë°ì´íŠ¸] v2.1 ê¸°ëŠ¥ ì—…ë°ì´íŠ¸<span class="float-right text-muted">06-10</span></a></li>
                  <li class="nav-item"><a href="#" class="nav-link">[ê³µì§€] ì¼ë³¸ ì—°íœ´ ê¸°ê°„ ë°°ì†¡ ì§€ì—°<span class="float-right text-muted">06-08</span></a></li>
                  <li class="nav-item"><a href="#" class="nav-link">[ì´ë²¤íŠ¸] ì‹ ê·œ ê³ ê° ë°°ì†¡ë¹„ í• ì¸<span class="float-right text-muted">06-05</span></a></li>
                </ul>
              </div>
            </div>
          </div>
        </div>

        <!-- Bottom Row -->
        <div class="row d-flex align-items-stretch">
          <section class="col-lg-9 d-flex align-items-stretch">
            <div class="card w-100">
              <div class="card-header">
                <h3 class="card-title card-title-lg">ìƒíƒœë³„ ìƒì„¸ í˜„í™©</h3>
              </div>
              <div class="card-body p-3">
                <div class="d-sm-flex justify-content-between align-items-center p-2 mb-3 bg-light rounded">
                  <h5 class="mb-2 mb-sm-0 sub-title">ë¯¸ì…ê³  í˜„í™©</h5>
                  <a href="#" class="text-link">ì¼ë³„ ì…ê³  í˜„í™© <i class="fas fa-arrow-circle-right ml-1"></i></a>
                </div>
                <table class="table table-bordered table-hover">
                  <thead>
                    <tr>
                      <th>ìƒíƒœ</th><th class="text-center">D+3</th><th class="text-center">D+5</th><th class="text-center">D+7</th>
                      <th class="text-center">D+10</th><th class="text-center text-danger">D+15 ì´ìƒ</th><th class="text-center">í•©ê³„</th>
                    </tr>
                  </thead>
                  <tbody id="status-table-body"></tbody>
                </table>
              </div>
            </div>
          </section>
          
          <section class="col-lg-3 d-flex align-items-stretch">
            <div class="d-flex flex-column w-100">
              <div class="card">
                <div class="card-body p-3">
                   <div class="row">
                      <div class="col-3"><a href="#" class="quick-link-item" data-toggle="modal" data-target="#trackingModal"><i class="fas fa-search-location"></i><span>í™”ë¬¼ì¶”ì </span></a></div>
                      <div class="col-3"><a href="#" class="quick-link-item"><i class="fas fa-book"></i><span>ë§¤ë‰´ì–¼</span></a></div>
                      <div class="col-3"><a href="https://exm.exmate.net/rateguide/" target="_blank" rel="noopener noreferrer" class="quick-link-item"><i class="fas fa-file-invoice-dollar"></i><span>ìš”ê¸ˆê°€ì´ë“œ</span></a></div>
                      <div class="col-3"><a href="https://exmate.net/EXMATE" target="_blank" rel="noopener noreferrer" class="quick-link-item"><i class="fas fa-building"></i><span>íšŒì‚¬ì†Œê°œ</span></a></div>
                   </div>
                </div>
              </div>
              <div class="card flex-grow-1">
                  <div class="card-body p-0">
                      <div class="promo-carousel-wrapper">
                        <div id="promoCarousel" class="carousel slide" data-ride="carousel">
                            <div class="carousel-inner">
                                <div class="carousel-item active"><img src="https://placehold.co/800x600/A78BFA/4C1D95?text=ì—¬ë¦„+ì‹œì¦Œ+íŠ¹ë³„+í• ì¸" class="d-block w-100 promo-carousel-item-img" alt="í”„ë¡œëª¨ì…˜ 1"></div>
                                <div class="carousel-item"><img src="https://placehold.co/800x600/FBBF24/92400E?text=ì‹ ê·œ+ì…€ëŸ¬+ì§€ì›" class="d-block w-100 promo-carousel-item-img" alt="í”„ë¡œëª¨ì…˜ 2"></div>
                            </div>
                        </div>
                      </div>
                  </div>
              </div>
            </div>
          </section>
        </div>
      </div>
    </section>
  </div>
</div>

<!-- Modals -->
<div class="modal fade" id="multiTrackModal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">ë³µìˆ˜í™”ë¬¼ ì¡°íšŒ</h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body"><p class="text-muted">ì¡°íšŒí•  ë²ˆí˜¸ë¥¼ í•œ ì¤„ì— í•˜ë‚˜ì”© ì…ë ¥í•´ ì£¼ì„¸ìš”. (ìµœëŒ€ 20ê°œ)</p><textarea class="form-control" rows="10" placeholder="123456789012&#10;123456789013&#10;..."></textarea></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-dismiss="modal">ë‹«ê¸°</button><button type="button" class="btn btn-primary">ì¡°íšŒ</button></div></div></div></div>
<div class="modal fade" id="trackingModal" tabindex="-1" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">í™”ë¬¼ì¶”ì  ê°€ì´ë“œ</h5><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body"><h6>ì¶”ì  URL</h6><div class="input-group"><input type="text" id="trackingUrl" class="form-control" value="https://pod.exmate.net/pod/?exmno={A}" readonly><div class="input-group-append"><button class="btn btn-outline-secondary" type="button" id="copyUrlBtn">ë³µì‚¬</button></div></div><small class="form-text text-muted">{A}: ìš´ì†¡ì¥ë²ˆí˜¸ ë˜ëŠ” EXM NOë¥¼ ì…ë ¥í•˜ì„¸ìš”.</small><hr><h6>ê¶Œì¥ íŒì—…ì°½ í¬ê¸°</h6><p>ë„ˆë¹„(width): 760px, ë†’ì´(height): 600px</p></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-dismiss="modal">ë‹«ê¸°</button></div></div></div></div>

<!-- Scripts -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/4.6.2/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/admin-lte/3.2.0/js/adminlte.min.js"></script>
<script src="js/language-selector.js"></script>

<script>
$(function () {
    // --- LNB Active State Logic ---
    $('#lnb-menu .nav-link').on('click', function (e) {
        let $this = $(this);
        if ($this.attr('href') === '#') {
            e.preventDefault();
        }

        let isSubmenuLink = $this.parents('.nav-treeview').length > 0;
        
        if (!isSubmenuLink) {
            // Deactivate all links
            $('#lnb-menu .nav-link').removeClass('active');
            // Deactivate any active sub-menu's parent
            $('#lnb-menu .nav-item.is-expanded').removeClass('is-expanded');
        } else {
            // Deactivate other links in the same sub-menu
            $this.closest('.nav-treeview').find('.nav-link').removeClass('active');
        }

        // Activate the clicked link and its parent if it's a sub-menu item
        $this.addClass('active');
        if (isSubmenuLink) {
            $this.closest('.nav-item.has-treeview').children('.nav-link').addClass('active');
        }
    });

    // --- Dummy data for table ---
    const statusData = [
        { status: 'ë¯¸í†µê´€', delays: [5, 2, 1, 0, 1] }, { status: 'í†µê´€ì™„ë£Œ', delays: [2, 1, 0, 0, 0] },
        { status: 'ë°°ì†¡ì‚¬ì—°ê³„', delays: [1, 0, 0, 0, 0] }, { status: 'ë°°ì†¡ì§€ì—°', delays: [3, 2, 1, 1, 1] },
        { status: 'ë¯¸ë°°ì†¡(ì‚¬ìœ ë°œìƒ)', delays: [5, 3, 2, 1, 3] },
    ];
    const tableBody = $('#status-table-body');
    if(tableBody.length) {
        tableBody.empty();
        statusData.forEach(data => {
            const total = data.delays.reduce((a, b) => a + b, 0);
            let cellsHTML = `<td><strong>${data.status}</strong></td>`;
            data.delays.forEach((count, index) => {
                let textColor = 'text-dark';
                if (count > 0) {
                    if (index <= 1) { // D+3, D+5
                        textColor = 'text-warning';
                    } else { // D+7, D+10, D+15
                        textColor = 'text-danger';
                    }
                }
                cellsHTML += `<td class="text-center ${count > 0 ? 'font-weight-bold' : ''} ${textColor}">${count}</td>`;
            });
            cellsHTML += `<td class="text-center font-weight-bold text-primary">${total}</td>`;
            tableBody.append(`<tr>${cellsHTML}</tr>`);
        });
    }

    // --- Copy URL Logic ---
    $('#copyUrlBtn').on('click', function() {
        const trackingUrlInput = $('#trackingUrl');
        navigator.clipboard.writeText(trackingUrlInput.val()).then(() => {
            const originalText = $(this).text();
            $(this).text('ë³µì‚¬ë¨!').addClass('btn-success').removeClass('btn-outline-secondary');
            setTimeout(() => {
                $(this).text(originalText).removeClass('btn-success').addClass('btn-outline-secondary');
            }, 2000);
        });
    });

    // Activate carousel
    $('#promoCarousel').carousel({
        interval: 3000
    });
    
    // ë³µìˆ˜í™”ë¬¼ ì¡°íšŒ ê²€ìƒ‰ ë°•ìŠ¤ í¬ì»¤ìŠ¤ ì‹œ ëª¨ë‹¬ ì—´ê¸°
    $('#multiTrackSearchInput').on('focus', function() {
        $('#multiTrackModal').modal('show');
        // í¬ì»¤ìŠ¤ë¥¼ ì œê±°í•˜ì—¬ ë°˜ë³µ ë™ì‘ ë°©ì§€
        $(this).blur();
    });
});
</script>
</body>
</html>
